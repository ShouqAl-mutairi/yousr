<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة يُســر | الملف الشخصي</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&display=swap"
      rel="stylesheet">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="../css/style.css" rel="stylesheet">
    <link href="../css/profile.css" rel="stylesheet">
    <link href="../assets/images/logo-without-text.png" rel="icon" type="image/png">
    <script src="../js/main.js" type="module" defer></script>
  </head>

  <body>
    <header>
      <nav class="navbar">
        <div class="hamburger">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="/" class="nav-link"><i class="fas fa-home"></i> الرئيسية</a>
          </li>
          <li class="nav-item">
            <a href="/freelancers" class="nav-link"><i class="fas fa-cogs"></i> خدماتنا</a>
          </li>
          <li class="nav-item">
            <a href="/about" class="nav-link"><i class="fas fa-info-circle"></i> من نحن</a>
          </li>
          <li class="nav-item">
            <a href="/contact" class="nav-link"><i class="fas fa-envelope"></i> تواصل معنا</a>
          </li>
          <li>
            <div class="auth-buttons">
              <a href="/signup" class="btn primary"><i class="fas fa-user"></i> سجل</a>
              <a href="/login" class="btn secondary"><i class="fas fa-sign-in-alt"></i> تسجيل الدخول</a>
            </div>
          </li>
        </ul>
        <a href="/" class="logo">
          <img src="../assets/images/logo-white.png" alt="yousr logo">
        </a>
      </nav>
    </header>

    <main class="profile-container">
      <div class="profile-header">
        <div class="profile-cover"></div>
        <div class="profile-info">
          <div class="profile-avatar">
            <img id="profile-avatar-img" src="../assets/images/avatar/avatar-man.jpg" alt="صورة الملف الشخصي">
          </div>
          <div class="profile-details">
            <h2 id="profile-name-container"><span id="profile-first-name"></span> <span id="profile-last-name"></span></h2>
            <p id="profile-role">نوع الحساب: <span>فريلانسر</span></p>
            <p id="profile-email">البريد الإلكتروني: <span>example@email.com</span></p>
            <p id="profile-phone">رقم الهاتف: <span>+123456789</span></p>
          </div>
        </div>
      </div>

      <div class="profile-tabs">
        <button class="tab-button active" data-tab="info">المعلومات الشخصية</button>
        <button class="tab-button" data-tab="projects">المشاريع</button>
      </div>

      <div class="profile-content">
        <!-- Personal Info Tab -->
        <div class="tab-content active" id="info-tab">
          <div class="info-card">
            <h3>المعلومات الشخصية</h3>
            <div class="edit-mode" id="info-edit-mode" style="display: none;">
              <form id="user-info-form">
                <div class="form-group">
                  <label for="edit-first-name">الاسم الأول:</label>
                  <input type="text" id="edit-first-name" name="first_name" class="form-input" required minlength="2" maxlength="30" pattern="[a-zA-Zأ-ي\s]{2,30}">
                  <div id="edit-first-name-error" class="error-message"></div>
                </div>
                <div class="form-group">
                  <label for="edit-last-name">الاسم الأخير:</label>
                  <input type="text" id="edit-last-name" name="last_name" class="form-input" required minlength="2" maxlength="30" pattern="[a-zA-Zأ-ي\s]{2,30}">
                  <div id="edit-last-name-error" class="error-message"></div>
                </div>
                <div class="form-group">
                  <label for="edit-email">البريد الإلكتروني:</label>
                  <input type="email" id="edit-email" name="email" class="form-input" required>
                  <div id="edit-email-error" class="error-message"></div>
                </div>
                <div class="form-group">
                  <label for="edit-phone">رقم الهاتف:</label>
                  <input type="tel" id="edit-phone" name="phone" class="form-input" required pattern="[0-9]{10,15}">
                  <div id="edit-phone-error" class="error-message"></div>
                </div>
                <div class="form-group">
                  <label for="edit-dob">تاريخ الميلاد:</label>
                  <input type="date" id="edit-dob" name="date_of_birth" class="form-input" max="2025-04-29">
                  <div id="edit-dob-error" class="error-message"></div>
                </div>
                
                <!-- Freelancer specific fields (only shown for freelancer accounts) -->
                <div class="freelancer-fields">
                  <div class="form-group">
                    <label for="edit-specialty">التخصص:</label>
                    <input type="text" id="edit-specialty" name="specialty" class="form-input" placeholder="مثال: تطوير الويب، تصميم جرافيكي، تسويق رقمي..." minlength="2" maxlength="50" required>
                    <div id="edit-specialty-error" class="error-message"></div>
                  </div>
                  <div class="form-group">
                    <label for="edit-bio">نبذة مهنية:</label>
                    <textarea id="edit-bio" name="profile_bio" class="form-input" rows="4" placeholder="اكتب نبذة مختصرة عن خبراتك ومهاراتك والخدمات التي تقدمها للعملاء..." minlength="10" maxlength="500" required></textarea>
                    <div id="edit-bio-error" class="error-message"></div>
                  </div>
                  <div class="price-range-container">
                    <h4>نطاق السعر (بالريال السعودي):</h4>
                    <div class="form-group price-range">
                      <div class="price-field">
                        <label for="edit-min-price">الحد الأدنى:</label>
                        <input type="number" id="edit-min-price" name="min_price" class="form-input" min="0" step="50" required>
                        <div id="edit-min-price-error" class="error-message"></div>
                      </div>
                      <div class="price-field">
                        <label for="edit-max-price">الحد الأقصى:</label>
                        <input type="number" id="edit-max-price" name="max_price" class="form-input" min="0" step="50" required>
                        <div id="edit-max-price-error" class="error-message"></div>
                      </div>
                      <div id="edit-min-price-range-error" class="error-message"></div>
                    </div>
                  </div>
                </div>
                
                <div class="availability-toggle">
                  <label class="switch">
                    <input type="checkbox" id="availability-toggle" name="is_available" onchange="toggleFreelancerFieldsRequired()">
                    <span class="slider round"></span>
                  </label>
                  <span class="availability-label">متاح للعمل</span>
                </div>
                <div class="button-group">
                  <button type="submit" class="save-changes-btn">حفظ التغييرات</button>
                  <button type="button" class="cancel-edit-btn">إلغاء</button>
                </div>
              </form>
            </div>
            <div class="view-mode" id="info-view-mode">
              <div class="info-item">
                <span class="info-label">اسم المستخدم:</span>
                <span id="info-username" class="info-value">اسم المستخدم</span>
              </div>
              <div class="info-item">
                <span class="info-label">الاسم الأول:</span>
                <span id="info-first-name" class="info-value">-</span>
              </div>
              <div class="info-item">
                <span class="info-label">الاسم الأخير:</span>
                <span id="info-last-name" class="info-value">-</span>
              </div>
              <div class="info-item">
                <span class="info-label">البريد الإلكتروني:</span>
                <span id="info-email" class="info-value">example@email.com</span>
              </div>
              <div class="info-item">
                <span class="info-label">رقم الهاتف:</span>
                <span id="info-phone" class="info-value">+123456789</span>
              </div>
              <div class="info-item">
                <span class="info-label">تاريخ الميلاد:</span>
                <span id="info-dob" class="info-value">01/01/1990</span>
              </div>
              <div class="info-item">
                <span class="info-label">الجنس:</span>
                <span id="info-gender" class="info-value">ذكر</span>
              </div>
              
              <!-- Freelancer specific information (only shown for freelancer accounts) -->
              <div class="freelancer-info">
                <div class="info-item">
                  <span class="info-label">التخصص:</span>
                  <span id="info-specialty" class="info-value">-</span>
                </div>
                <div class="info-item">
                  <span class="info-label">نبذة مهنية:</span>
                  <span id="info-bio" class="info-value">-</span>
                </div>
                <div class="info-item">
                  <span class="info-label">نطاق السعر (بالريال السعودي):</span>
                  <span id="info-price-range" class="info-value">-</span>
                </div>
                <div class="info-item">
                  <span class="info-label">متاح للعمل:</span>
                  <span id="info-availability" class="info-value">لا</span>
                </div>
              </div>
              
              <div class="info-actions">
                <button class="edit-info-btn">تعديل المعلومات</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Projects Tab -->
        <div class="tab-content" id="projects-tab">
          <div class="projects-header">
            <h3>المشاريع</h3>
            <button class="create-project-btn" id="add-project-btn"><i class="fas fa-plus"></i> إضافة مشروع جديد</button>
          </div>

          <!-- Add Project Form -->
          <div class="project-form-container" id="project-form-container" style="display: none;">
            <form id="add-project-form">
              <div class="form-group">
                <label for="project-title">عنوان المشروع</label>
                <input type="text" id="project-title" name="title" class="form-input" required minlength="3" maxlength="100">
                <div id="project-title-error" class="error-message"></div>
              </div>
              <div class="form-group">
                <label for="project-category">الفئة</label>
                <select id="project-category" name="category" class="form-input" required>
                  <option value="">اختر الفئة</option>
                  <option value="web-development">تطوير الويب</option>
                  <option value="graphic-design">التصميم الجرافيكي</option>
                  <option value="digital-marketing">التسويق الرقمي</option>
                  <option value="content-writing">كتابة المحتوى</option>
                  <option value="other">أخرى</option>
                </select>
                <div id="project-category-error" class="error-message"></div>
              </div>
              <div class="form-group">
                <label for="project-description">وصف المشروع</label>
                <textarea id="project-description" name="description" class="form-input" rows="4" required minlength="20" maxlength="1000"></textarea>
                <div id="project-description-error" class="error-message"></div>
              </div>
              <!-- Price field removed -->
              <div class="button-group">
                <button type="submit" class="save-project-btn">حفظ المشروع</button>
                <button type="button" class="cancel-project-btn">إلغاء</button>
              </div>
            </form>
          </div>

          <!-- Projects List -->
          <div class="projects-list" id="projects-list"></div>

          <!-- Empty Projects State -->
          <div class="projects-empty" id="projects-empty">
            <i class="fas fa-project-diagram"></i>
            <h3>لا توجد مشاريع حالياً</h3>
            <p>ستظهر مشاريعك هنا عند إنشاءها أو المشاركة فيها</p>
          </div>
        </div>

    </main>

    <footer>
      <div class="footer-top">
        <div class="footer-right">
          <img
            src="../assets/images/logo-without-text.png"
            alt="yousr logo"
            class="footer-logo">
          <div class="contact-info">
            <p>
              <i class="fas fa-envelope"></i> البريد الإلكتروني :
              <a href="mailto:info@yousr.com">info@yousr.com</a>
            </p>
            <p>
              <i class="fas fa-phone"></i> الهاتف :
              <a href="tel:+123456789">+966 549655977</a>
            </p>
          </div>
        </div>
        <div class="footer-left">
          <div class="quick-links">
            <a href="#">الشروط والأحكام</a>
            <a href="#">سياسة الخصوصية</a>
            <a href="#">الأسئلة الشائعة</a>
          </div>
        </div>
      </div>
      <hr class="footer-divider">
      <div class="footer-bottom">
        <p class="copyright">
          <i class="fas fa-copyright"></i> 2025 يُســر. جميع الحقوق محفوظة.
        </p>
        <div class="social-media">
          <a href="https://facebook.com" target="_blank"><i class="fab fa-facebook"></i></a>
          <a href="https://twitter.com" target="_blank"><i class="fab fa-twitter"></i></a>
          <a href="https://linkedin.com" target="_blank"><i class="fab fa-linkedin"></i></a>
          <a href="https://instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
        </div>
      </div>
    </footer>
  </body>
</html>